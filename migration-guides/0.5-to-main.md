# Migrating From v0.5 to `main`

This file contains migration guides for breaking changes that have happened on the `main` branch
since the latest release. These guides are evolving and may not be polished yet.

See [migration-guides/README.md](./README.md) and existing entries for information about Avian's
migration guide process and what to put here.

## Joimt Motors

`RevoluteJoint` and `PrismaticJoimt` now store motors for driving movement.
By default, they are disabled, so this should not be a breaking change for most applications.

## `ReadRigidBodyForces` and `WriteRigidBodyForces`

PR [#908](https://github.com/avianphysics/avian/pull/908) introduced two new traits: `ReadRigidBodyForces` and `WriteRigidBodyForces`, and `RigidyBodyForces` is now defined as:

```rust
pub trait RigidBodyForces: ReadRigidBodyForces + WriteRigidBodyForces {}
```

In most cases this should just work, but if it doesn't, you can replace your implementation for `RigidBodyForces` with both `ReadRigidBodyForces` and `WriteRigidBodyForces` where it is used / needed. Both traits are required to implement `RigidBodyForces`, but you can implement them separately.

## `SleepBody` and `WakeBody`

The `SleepBody` and `WakeBody` commands now return an error when applied for an entity that doesn't exist
or doesn't belong to an island. Previously, they logged a warning instead.
